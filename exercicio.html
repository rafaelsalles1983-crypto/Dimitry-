<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–± - Exerc√≠cios</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="chat.css">
  <link rel="icon" type="image/png" href="images/dimitri-favicon.png">

  <style>
    /* ======== MODO ESCURO ======== */
    body.dark-mode {
      background-color: #121212;
      color: #f5f5f5;
    }
    body.dark-mode header {
      background-color: #222;
      color: #fff;
    }
    body.dark-mode aside {
      background-color: #1e1e1e;
    }
    body.dark-mode footer {
      background-color: #222;
      color: #f5f5f5;
    }

    /* ===== Bot√µes modo escuro e idioma em verde ===== */
    #darkModeToggle, #languageToggle {
      background-color: #4CAF50;
      color: white;
    }
    #darkModeToggle:hover, #languageToggle:hover {
      background-color: #45A049;
    }

    /* ====== Layout e Rodap√© ====== */
    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
    }

    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
    }

    /* ===== FOOTER ===== */
    footer {
      background: white;
      color: #555;
      text-align: center;
      padding: 8px 0;
      font-size: 0.85em;
      box-shadow: 0 -2px 6px rgba(0,0,0,0.1);
      transition: background-color 0.3s, color 0.3s;
    }

    /* ===== Corre√ß√£o mobile ===== */
    @media (max-width: 768px) {
      main, .content, #cruzadoContainer, #backButtonContainer {
        position: relative;
        z-index: 10;
      }
      #backButtonContainer {
        text-align: center;
        margin-top: 20px;
      }
      #backBtn {
        display: inline-block;
        padding: 12px 20px;
        font-size: 1em;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
      }
      #backBtn:hover {
        background-color: #45A049;
      }
      #dimitri { z-index: 1; }
      aside { z-index: 2; }
    }

    /* ===== Bot√£o do modo escuro ===== */
    #darkModeToggle {
      position: absolute;
      right: 70px;
      top: 15px;
      border: none;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }

    /* ===== Bot√£o de idioma ===== */
    #languageToggle {
      position: absolute;
      right: 15px;
      top: 15px;
      border: none;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <h1 id="siteTitle">–°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–±</h1>
    <button id="languageToggle">PT</button>
    <button id="darkModeToggle">üåô</button>
  </header>

  <!-- Sidebar -->
  <aside>
    <nav>
      <a href="index.html">üè† Selecionar</a>
      <a href="exercicio.html" class="active">üìù Exerc√≠cios</a>
      <a href="jogo.html">üéÆ Jogos</a>
      <a href="#">‚Ñπ Quem somos</a>
    </nav>
    <div class="mascote">üêª Dimitry</div>
  </aside>

  <!-- Main -->
  <main>
    <div class="content">
      <h2>üìù Exerc√≠cio Interativo</h2>

      <!-- Barra de progresso -->
      <div id="progressContainer">
        <div id="progressText"></div>
        <div id="progressBarContainer">
          <div id="progressBar"></div>
        </div>
      </div>

      <!-- Exerc√≠cio -->
      <div id="cruzadoContainer" class="container">
        <div class="column" id="words"></div>
        <div class="column" id="placeholders"></div>
      </div>

      <!-- Bot√£o voltar -->
      <div id="backButtonContainer">
        <button id="backBtn" onclick="window.location.href='index.html'">üîô Voltar</button>
      </div>
    </div>
  </main>

  <!-- Rodap√© fixo -->
  <footer>
    ¬© 2025 –°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–± | Desenvolvido por Rafael Salles
  </footer>

  <!-- Mascote Dimitri -->
  <div id="dimitri">
    <div class="head">
      <div class="ushanka">
        <div class="ear left"></div>
        <div class="ear right"></div>
      </div>
      <div class="eye left"></div>
      <div class="eye right"></div>
      <div class="eyebrow left"></div>
      <div class="eyebrow right"></div>
      <div class="mouth"></div>
    </div>
    <div class="body">
      <div class="arm left"></div>
      <div class="arm right"></div>
    </div>
  </div>

  <!-- Chat Flutuante -->
  <button id="chatBtn">üí¨</button>
  <div id="chatWindow">
    <div id="chatMessages">
      <p class="botMsg">üëã Ol√°! Eu sou o Dimitri, seu assistente.</p>
    </div>
    <div id="chatInput">
      <input type="text" id="msgInput" placeholder="Digite sua mensagem...">
      <button id="sendBtn">‚û§</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="chat.js"></script>
  <script src="exercicio.js"></script>

  <script>
    const darkModeToggle = document.getElementById('darkModeToggle');
    const languageToggle = document.getElementById('languageToggle');

    // === Verifica o tema salvo no localStorage ===
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      document.body.classList.add('dark-mode');
      darkModeToggle.textContent = '‚òÄÔ∏è';
    } else {
      document.body.classList.remove('dark-mode');
      darkModeToggle.textContent = 'üåô';
    }

    // === Altern√¢ncia do modo escuro com persist√™ncia ===
    darkModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      darkModeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // === Altern√¢ncia do idioma (igual ao jogo.html) ===
    languageToggle.addEventListener('click', () => {
      if (languageToggle.textContent === 'PT') {
        languageToggle.textContent = '–†–£';
      } else {
        languageToggle.textContent = 'PT';
      }
    });
  </script>
</body>
</html>
